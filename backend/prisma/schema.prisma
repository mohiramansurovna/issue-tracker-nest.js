generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

model User {
  id         String   @id @default(uuid())
  email      String   @unique
  password   String
  created_at DateTime @default(now())

  created_issues  Issue[] @relation("IssueCreatedBy")
  assigned_issues Issue[] @relation("IssueAssignedTo")
}

model Issue {
  id          String   @id @default(uuid())
  title       String
  description String?

  status   String
  priority String

  created_at DateTime @default(now())
  updated_at DateTime @updatedAt  

  creator_id  String
  assignee_id String?

  creator  User  @relation("IssueCreatedBy", fields: [creator_id], references: [id])
  assignee User? @relation("IssueAssignedTo", fields: [assignee_id], references: [id])

  labels Label[]
}

model Label {
  id    String @id @default(uuid())
  title String @unique
  color String?

  issues Issue[]
}
